<!doctype html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=https://ed-m.dev/css/style.css><link rel=stylesheet href=https://ed-m.dev/css/single-page.css><title>End of the Year and a new Book | 220101</title></head><body><nav class=navBar><ul><a href=/>Ed-M.Dev</a>
<a href=/notes>Notes</a>
<a href=/about>About</a></ul></nav><div class="main container single"><div class=single-page-content-container><div class=single-page-header><h2>End of the Year and a new Book | 220101</h2><time>Sat, Jan 1, 2022</time><div class=single-page-project><h3><a href=/notes/projects/conduit>Project - Conduit</a></h3></div><div class=tags-container><div class=tag-list-item><a href=/tags/microservices>Microservices</a></div><div class=tag-list-item><a href=/tags/sqlx>Sqlx</a></div><div class=tag-list-item><a href=/tags/devblog>Devblog</a></div></div></div><br><div class=single-page-content><h1 id=220101>220101</h1><h2 id=now-what>Now What</h2><p>So I am going to try and break down each of the services that I have created to SQL schemes/Queries with the necessary item so that don&rsquo;t have go into the database for any reason.</p><p>So stuff like this:
<img src=https://i.imgur.com/cVH3Bbx.png alt=sqlQuery>
Looking at that code you &rsquo;ll see items that lock me into postgres,(<a href=https://github.com/jackc/pgx>pgx</a> , & &ldquo;information_schema.table&rdquo;) which removes one of the advantages of using pure SQL and that it can be database Agnostic. I may end hating this later, but whatever send it.</p><p>I am trying find a way to not have to maintain both the model for json and the sql schema together in the same struct so when I need to make changes or additions i can in one place, but there doesn&rsquo;t seem to be one that can do that with references to other tables</p><p>Here is <a href=https://github.com/jmoiron/sqlx>sqlx</a>, but I still have to maintain the schema separate,</p><p>This is <a href=https://github.com/jmoiron/sqlx>sqlx</a>
<img src=https://i.imgur.com/kbRYLVo.png alt="enter image description here"></p><p>GORM did that, but doesn&rsquo;t seem to a viable option for micro services or at least at my understanding for what I want to do with.</p><h3 id=next-things>Next things</h3><h4 id=reading-another-book>Reading another Book</h4><p>If I am going to do the microservices things I guess I should read their bible things. Cause I think I missing some information on this topic. Going to Cherry pick some chapters that seem relevant to see if any insight can be gained
<img src=https://i.imgur.com/78nD9jG.png alt="Microservices Patterns "></p><h4 id=get-some-schema-together>Get some schema together</h4><p>With this I have exactly what I want, but I also have know what I want so a double edge sword.</p><p>This is not what I going with, but show some things, but is still very wrong
<img src=https://i.imgur.com/9Ulipvb.png alt="Server Information"></p><p>Red: UUID this was easier than I thought to get working, but I will need the extension to be enabled for each database it used in. Just another thing to error check for and implement.</p><p>Blue: Postgres allows for arrays, but after reading up on them they do append when updating they update the whole array which is a waste, so I think going with inter-between table for many-to-many at least.</p><p>Yellow: just being able to do a reference. I think have be able to alter a table with running a query while still using GORM, but doing so makes me just not want to use GORM or any ORM(go-pg did the same thing).</p><h2 id=devemeber2021>#devemeber2021</h2><p>So I failed, but I will continue to work on this item for some time, but I need to find a new job so that may take of available brain availability</p><p>I will keep going with this. It was always a study first and it lined up with #devemeber2021. Granted I was hoping to get farther than getting to temporary user data model to implement messages and realizing my database interface conflicted with microservices aspirations.</p><p><a href=https://i.imgur.com/rQIb4Vw.mp4>https://i.imgur.com/rQIb4Vw.mp4</a></p></div></div></div></body><footer><hr>Author <a href=https://ed-m.dev/about>Edward M- </a>| Framework <a href=https://gohugo.io/>Hugo</a></footer></html>