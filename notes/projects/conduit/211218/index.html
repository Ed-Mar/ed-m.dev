<!doctype html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<link rel=stylesheet href=https://ed-m.dev/css/style.css>
<link rel=stylesheet href=https://ed-m.dev/css/single-page.css>
<title>DB Code base intergration | 211218</title>
</head>
<body>
<nav class=navBar>
<ul>
<a href=/>
Ed-M.Dev
</a>
<a href=/notes>
Notes
</a>
<a href=/about>
About
</a>
</ul>
</nav>
<div class="main container single">
<div class=single-page-content-container>
<div class=single-page-header>
<h2>DB Code base intergration | 211218</h2>
<time>Sat, Dec 18, 2021</time>
<div class=single-page-project>
<h3><a href=/notes/projects/conduit> Project - Conduit</a></h3>
</div>
<div class=tags-container>
<div class=tag-list-item>
<a href=/tags/docker>Docker</a>
</div>
<div class=tag-list-item>
<a href=/tags/gorm>Gorm</a>
</div>
<div class=tag-list-item>
<a href=/tags/go>Go</a>
</div>
<div class=tag-list-item>
<a href=/tags/.env>.Env</a>
</div>
<div class=tag-list-item>
<a href=/tags/devblog>Devblog</a>
</div>
</div>
</div>
<br>
<div class=single-page-content>
<h1 id=211218>211218</h1>
<h2 id=docker-image-for-postures>Docker image for postures</h2>
<p>Bog standard nothing docker compose
<img src=https://i.imgur.com/AxesvGf.png alt="boilerplate docker-compose"></p>
<blockquote>
<p>Note I plan to turn on ssl mode(<a href=https://blog.crunchydata.com/blog/set-up-tls-for-postgresql-in-kubernetes>link</a>) on later when this gets on the cluster</p>
</blockquote>
<h2 id=using-gorm-for-database>Using GORM for database</h2>
<p>Documentation for this and the package it self makes this rather easy. It is extra dependency, but for now its find. I like ORMs but I understand why some don&rsquo;t and agree for the most part
Automigration is complete for the server struct
<img src=https://i.imgur.com/J6cqVEb.png alt="Migration of struct done every time the service spins up"></p>
<h2 id=env-files-and-being-smooth-brain>.ENV files and being smooth brain</h2>
<p>Took me a few (*cough hours) to get the env files to work ending up using the <a href=https://github.com/spf13/viper>Viper</a> package. Works rather well. There are some random files that need to be cleaned up from some other packages trial and error, but I will make a push by the time this goes up so if you want take a gander</p>
<hr>
<p>Will cont to work on filling out rest of the CRUD and project files directory layout will be the next items. After those items I will get to start getting to the channels once that</p>
</div>
</div>
</div>
</body>
<footer><hr>Author <a href=https://ed-m.dev/about>Edward M- </a>| Framework <a href=https://gohugo.io/>Hugo</a></footer>
</html>