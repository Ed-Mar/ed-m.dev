<!doctype html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=https://ed-m.dev/css/style.css><link rel=stylesheet href=https://ed-m.dev/css/single-page.css><title>Going Live | 221005</title></head><body><nav class=navBar><ul><a href=/>Ed-M.Dev</a>
<a href=/notes>Notes</a>
<a href=/about>About</a></ul></nav><div class="main container single"><div class=single-page-content-container><div class=single-page-header><h2>Going Live | 221005</h2><time>Wed, Oct 5, 2022</time><div class=single-page-project><h3><a href=/notes/projects/ed-m>Project - Ed m</a></h3></div><div class=tags-container><div class=tag-list-item><a href=/tags/github-actions>Github actions</a></div><div class=tag-list-item><a href=/tags/hugo>Hugo</a></div><div class=tag-list-item><a href=/tags/devblog>Devblog</a></div></div></div><br><div class=single-page-content><h1 id=221005>221005</h1><p><em>_0514</em></p><h3 id=code-modularization>Code modularization</h3><p>I move a lot of things that was just setting in a layout into a partial and call that got some reuse. I noticed this was really needed yesterday when trying to edit things on the notes list layout due there being three sub list layout needed on that page. It also allowed me to re use the super script count I had on the single project layout on the list project panels on the main notes index.</p><h3 id=home-page-got-pagination-for-all-post>Home page got pagination for all post</h3><p>Copy/pasta&rsquo;d the pagination code I had for the project index and tweak the range for all regular pages simple, but I think it was needed.</p><h3 id=bug-found-eod-yesterday-have-been-fixed>Bug found EOD yesterday have been fixed</h3><p><img src=https://i.imgur.com/KjNTHRb.png alt="Project Latest Post and Post Count"></p><p>The two issues I left for myself yesterday evening have been fixed. <em>For the most part</em> they still mess up sometimes. I am not positive why it does it still. So for both of them I change the</p><p>where site.<strong>Pages</strong>.ByDate.Reverse
->
where site.<strong>RegularPages</strong>.ByDate.Reverse</p><p>This in theory should help it not pull pages that are not single pages, but the where param should have covered that cause list pages shouldn&rsquo;t have the param &ldquo;project&rdquo; in the front matter.</p><p><em>&ndash;disableFastRender</em> also seemed to help, but not as much as I was hoping.</p><p>This is just gonna be something I am going to keep an eye once the full and upload has been complete.</p><h2 id=hosting-time>Hosting Time?</h2><p><em>_0532</em></p><p>There is nothing that jumping out to me that needs to be fixed at the current time. The notes has been imported so I think its time I look into figure out the best/cheapest way to host this static site.</p><h3 id=its-live>It&rsquo;s Live</h3><p><em>_0758</em></p><p>The Site exist now.
<img src=https://i.imgur.com/LgKkM35.png alt="This is good."></p><p>I went with GitHub pages which was something I was aware of but didn&rsquo;t know I use Hugo with thought I have to use one of their frameworks.</p><p>So there are a few tutorials out there. The reason it took me 2 and half hours was something that made me feel lil silly.</p><p>It seems that webs consensus is to use Github action to build and deploy.</p><p>So I was thinking this would be done in one git hub action.</p><p><img src=https://i.imgur.com/5nAzrkI.png alt="&amp;lsquo;Build and Deploy&amp;rsquo;"></p><p>Yeah I was wrong. So i was looking at the Hugo docs provided yaml for the Github action</p><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#6ab825;font-weight:700>name</span>:<span style=color:#666>  </span>Deploy<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>uses</span>:<span style=color:#666>  </span>peaceiris/actions-gh-pages@v3<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>if</span>:<span style=color:#666>  </span>github.ref == &#39;refs/heads/main&#39;<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>  </span><span style=color:#6ab825;font-weight:700>with</span>:<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#6ab825;font-weight:700>github_token</span>:<span style=color:#666>  </span>${{ secrets.GITHUB_TOKEN }}<span style=color:#666>
</span></span></span><span style=display:flex><span><span style=color:#666>    </span><span style=color:#6ab825;font-weight:700>publish_dir</span>:<span style=color:#666>  </span>./public<span style=color:#666>
</span></span></span></code></pre></div><p>I was assuming that the deploy deployed it. It does not.</p><blockquote><p>TIL that you can just <em>&lsquo;secrets.GITHUB_TOKEN&rsquo;</em> instead making an Token and assigning to repo. Neat. Don&rsquo;t know how safe this is with Actions marketplace existing.</p></blockquote><p>This just creates a new branch then each time there is a push on the main branch it builds then dumps the content of that in new branch.</p><p>I was think there was hook in github to look for that public branch sense I did this from the GitHub pages page. It does not.</p><p>So you need to use the <em>Deploy from a branch</em> option <strong>not</strong> the Github actions option</p><p>When you do this you&rsquo;ll end up with two github actions.</p><p><img src=https://i.imgur.com/BI6rPo6.png alt="two actions"></p><p>One two build and dump the hugo site(the one you create via file) and the other is created when you use the <em>Deploy from a branch</em> option on the repos page tab.</p><h4 id=custom-dns>Custom DNS</h4><p>The only other hiccup was that Github Docs said made it seem like you didn&rsquo;t have to set the www part for the custom DNS, but it said mine was mis-config&rsquo;ed until I did it. Also I think .dev requires https.</p><hr><p><em>Feels Nice.</em></p><h2 id=thought-on-future-improvements>Thought on future improvements</h2><p>If/When I come back to this. Here are some things that could be added. Right now I will change the status of this project to <em>&ldquo;Maintenance&rdquo;</em>.</p><p><em>Not in any order.</em></p><p>Table of content for single pages over a certain length
Better Tags Page with more of a break down and the sub-title viewable somewhere.
Have a CV downloadable on the about page.
Series Option if I want to do that for single pages.
Light Colour Style Option.
Have a hook to the github of each of the projects to pull code stats or anything else; that is pulled on build.
Search function(if it can done and stay a static site)
RSS Feed/XML
Open Graph Meta Data Tags that pull from from the content of the page
Buy a STMP access somewhere to use with domain.</p><p>These things for the most part we&rsquo;re not part of my original plan for this. I just wanted a site for my notes that didn&rsquo;t look to bad.</p></div></div></div></body><footer><hr>Author <a href=https://ed-m.dev/about>Edward M- </a>| Framework <a href=https://gohugo.io/>Hugo</a></footer></html>